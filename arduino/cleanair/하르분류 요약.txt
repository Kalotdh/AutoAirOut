Haar Cascade Classifier(하르 분류기)는 Paul Viola와 Michael Jones에 의해 2001년에 게재된 "Rapid Object Detection using a Boosted Cascade of Simple Feature" 논문에서 제안한 효율적인(효과적인) 대상 검출(Object Detection) 방법이다.

구현을 위한 알고리즘 순서도(Algorithm Flow Chart)는 크게 5가지로 구성할 수 있다.

첫번재는 ​적분이미지를 이용한 haar like filter 입니다.

Haar Feature는 영상에서 영역과 영역의 밝기 차이를 활용하는 기술입니다. 얼굴에서는 이마가 밝은 경향이 있어 1의 값을, 눈은 깊게 파이고 동공 때문에 어두운 경향이 있어 0의 값을 부여하는 단순한 아이디어에서 시작되었습니다.

Haar Feature는 영상에서 검정 부분과 흰색 부분에 해당하는 밝기 값을 빼고, 이를 임계값과 비교하여 해당 영역을 찾는 방식입니다.

이때, 밝기 값을 계속해서 더하고 빼는 것은 비효율적입니다. 이를 해결하기 위해 적분 이미지를 사용하여 흑백의 영역을 계산합니다. 이 적분 이미지를 사용하면 흑백이 겹치는 영역에 대한 반복 계산을 줄일 수 있습니다. 따라서 적분 이미지를 활용함으로써 계산의 효율성을 높일 수 있습니다.

두번째는 ada boost 입니다.
Adaptive Boosting의 약자로, 간단하고 단순한 분류기를 사용해서 복잡한 문제를 해결하는 아이디어이다.
한 블로그에서 설명을 인용하자면 "1명의 뛰어난 인재보다 10명의 평범한 사람이 모여 집단 지성으로 문제 푸는 것이 더 효과적"이라는 의미로 이해하면 될 것이다.

Adaboost는 여러 개의 간단한 분류기를 조합하여 복잡한 문제를 해결하는 알고리즘입니다. 각 분류기는 이미지나 데이터의 특징을 기반으로 하여 예측을 수행합니다. 그리고 이 예측 결과에서 잘못 분류된 데이터에 가중치를 더해 다음 분류기가 더욱 집중적으로 이를 개선하도록 유도합니다.

이러한 과정을 반복하여 여러 개의 분류기를 결합하면, 각 분류기의 예측 결과에 가중치를 부여하여 최종 예측을 수행합니다. 이렇게 다수의 간단한 분류기를 모아서 사용하므로, 하나의 강력한 분류기보다 더 높은 정확도와 성능을 얻을 수 있습니다. Adaboost는 집단 지성의 원리를 활용하여, 여러 개의 약한 분류기가 함께 합작하여 뛰어난 성능을 발휘하는 것으로 이해할 수 있습니다.

마지막은 Cascade Classifier 입니다.

앞서서 만들어진 특징을 비교하는 작업은 전체 영상에서 적용시키는것은 비효율적이다.

영상 전체에 대한 특징 비교보다는 객체가 존재할 가능성이 높은 부분을 먼저 검사하는 방식입니다.

예를 들어, 100점을 받은 학생을 찾기 위해 5가지 질문을 할 수 있다고 가정해봅시다. 먼저, "점수가 50점을 넘었나요?"라는 질문을 합니다. 이 질문으로 50점 이상인 사람에게만 진행합니다. 그 다음으로는 "점수가 70점을 넘었나요?"라는 질문을 하고, 70점 이상인 사람에게만 진행합니다. 이런 식으로 80점, 90점, 99점까지 질문을 하며, 이전 단계에서 걸러진 범위 내에서만 진행합니다.

이러한 방식을 순차적으로 진행하면, 초기에는 일반적인 특징을 가진 많은 데이터를 대상으로 검사하다가, 점차적으로 특이한 특징을 가진 데이터를 탐색하는 방식입니다. 이를 통해 검출 대상이 존재할 가능성이 높은 영역을 우선적으로 탐색하고, 전체 영상에 대한 비효율성을 줄일 수 있습니다.


## 요약
Haar Cascade Classifier는 Paul Viola와 Michael Jones가 제안한 객체 검출 방법으로, 적분 이미지와 Haar-like 특징, AdaBoost 알고리즘, 그리고 Cascade Classifier를 활용합니다. 이 방법은 영상 처리에서 효율적인 객체 검출을 가능하게 합니다.

Haar-like 특징은 객체의 특징을 추출하기 위해 밝기 차이를 활용합니다. 이를 위해 적분 이미지를 사용하여 계산 효율성을 향상시킵니다. AdaBoost 알고리즘은 여러 개의 간단한 분류기를 조합하여 복잡한 객체를 검출하는 방법입니다. 각 분류기는 특징을 기반으로 예측을 수행하고, 가중치를 조정하여 다음 분류기를 개선합니다.

Cascade Classifier는 객체 검출을 효율적으로 수행하기 위한 방법입니다. 이 방법은 가능성이 높은 영역을 우선적으로 탐색하여 전체 영상에 대한 비효율성을 줄입니다. 초기에는 보편적인 특징을 가진 데이터를 검사하고, 점차적으로 특이한 특징을 가진 데이터를 탐색합니다. 이를 통해 객체 검출 성능을 향상시킬 수 있습니다.

따라서 Haar Cascade Classifier는 적분 이미지, Haar-like 특징, AdaBoost 알고리즘, 그리고 Cascade Classifier의 조합을 통해 효율적인 객체 검출을 가능케 합니다.


